+++
href = "https://jag2017autumn.contest.atcoder.jp/tasks/jag2017autumn_e"
date = "2017-11-27T02:30:29+09:00"
title = "E: Tree Separator - JAG Practice Contest for ACM-ICPC Asia Regional 2017"
tags = ["dp"]

+++

<!--more-->

## 概要

木が与えられる．

２点以上からなる１本の道を選び，その上の点を木から除去する．

サイズK以上の連結グラフができるだけ多くできるように道を選びたい．

サイズK以上の連結グラフが最大いくつ作れるか求めよ．

## 解法

適当に根を選ぶ．

$DP[i]$を，「点$i$を根とする部分木で，点$i$を端点とする道（$i$のみを含む）を削除した時できるサイズK以上の連結グラフの最大個数」とすると$DP[i]$ はDFSで計算できる．

削除する候補の道は以下の２種類をすべての$i$でみれば十分

1. $i$の子孫$j, k$を端点とした$j...i...k$（$j,k$は$i$の別々の部分木にいる）
2. $i$と$i$の子孫$j$を端点とした$i...j$

$i$の子の$DP[]$には最適な$j, k$を選んだ時の値が入ってるので，子の$DP[]$をみるだけでうまく求める値が計算できる．

## 実装

{{<code "main.comp.cpp">}}