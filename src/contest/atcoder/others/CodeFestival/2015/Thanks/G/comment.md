---
title        : atcoder-CodeFestival-2015-Thanks-G
date         : 2015-12-08
contests     : atcoder
status        : AC
problemtypes :
              - 最短距離

---

カメレオン

<!--more-->

# 問題概要

  私はカメレオン。 N個の広場があり、M本の道でつながっている。各道には色（非負整数）が指定されており、色cの道を通るには体色をcに変える必要がある。色を変えるには自分の色をkとすると|c-k|だけ時間がかかる。

　広場1からNまで移動する際の最短時間を求める

# 解法

　現在の自分の色を持ってダイクストラ。

　今まで、自分のダイクストラ法はpopの直後でその状態までの距離を決定し、push周辺では距離の更新をしていなかったのだが、その方法ではTLEした。蟻本に乗っているような感じの、push前後で最短距離を更新してダメなやつらをpush前に切り捨てる実装にしたら通った。前者の実装の方がダイクストラっぽさが出ていてわかりやすいと思うけど、heapに明らかに無駄な状態をpushしまくっているので無駄が多い。今までほとんど前者でやってきたけど今度からは後者の方法にしようと思った。
