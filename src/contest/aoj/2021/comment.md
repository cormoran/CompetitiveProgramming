+++
tags = ["None"]
href = "http://judge.u-aizu.ac.jp/onlinejudge/description.jsp?id=2021"
date = "2017-07-08T01:10:08+09:00"
title = "AOJ2021 Princess in Danger お姫様の危機"

+++

適当に書き始めてちょっと詰まってしまった．

<!--more-->

## 解法

状態数を (町, 冷凍可能な残り時間) としてダイクストラする．

どの経路を取っても，道のりが同じなら必要な冷凍時間は同じなので上のように状態を設定すれば，冷凍時間はあとで考慮すればよく，到達できるかどうかを考えれば良い．

車を給油しながら進む問題のように，とりあえず各町で最大まで冷凍していく．

最初は最大まで冷凍されているので，必要な冷凍時間は，$max(0, dist(A, H) - M)$ となる．

ノード $MN$, 辺 $K$ のダイクストラなので $O(K + MN)log(MN)$

## 実装

{{<code "main.comp.cpp">}}